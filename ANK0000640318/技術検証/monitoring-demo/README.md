# Monitoring Demo

金融決済プラットフォーム向け監視・オブザーバビリティのデモです。

## 構成

```
┌─────────────────────────────────────────────────────────────┐
│                    Monitoring Stack                          │
│                                                               │
│  ┌──────────────┐      ┌──────────────┐                     │
│  │   Grafana    │◄─────│  Prometheus  │                     │
│  │  Port 3000   │      │  Port 9090   │                     │
│  └──────────────┘      └───────┬──────┘                     │
│                                 │                             │
│                    ┌────────────┼────────────┐               │
│                    │            │            │               │
│             ┌──────▼─────┐ ┌───▼────────┐ ┌▼──────────┐    │
│             │   Node     │ │  Sample    │ │ Alert     │    │
│             │  Exporter  │ │    App     │ │ Manager   │    │
│             │ Port 9100  │ │ Port 8000  │ │ Port 9093 │    │
│             └────────────┘ └────────────┘ └───────────┘    │
└─────────────────────────────────────────────────────────────┘
```

## クイックスタート

```bash
# 起動
docker-compose up -d

# 確認
docker-compose ps

# ログ
docker-compose logs -f
```

## アクセス

| サービス | URL | 認証 |
|---------|-----|------|
| Grafana | http://localhost:3000 | admin / admin |
| Prometheus | http://localhost:9090 | - |
| AlertManager | http://localhost:9093 | - |
| Sample App | http://localhost:8000 | - |

## 監視メトリクス

### システムメトリクス（Node Exporter）
- CPU使用率
- メモリ使用率
- ディスク使用率
- ネットワークI/O

### アプリケーションメトリクス
- リクエスト数
- レスポンスタイム
- エラー率

## アラートルール

- インスタンスダウン
- CPU使用率 > 80%
- メモリ使用率 > 85%
- ディスク使用率 > 90%

## 停止

```bash
docker-compose down

# データも削除
docker-compose down -v
```

## 金融システム向け考慮事項

1. **SLI/SLO**: 可用性、レイテンシ、エラー率の定義
2. **アラート階層**: 重要度別の通知先設定
3. **監査ログ**: 変更履歴の保持
4. **冗長化**: Prometheus/Grafanaの冗長構成
